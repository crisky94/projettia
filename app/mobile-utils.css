/* Mobile-specific utilities and improvements */

/* Prevent zoom on input focus on iOS */
@media screen and (max-width: 768px) {

    input,
    textarea,
    select {
        font-size: 16px !important;
    }
}

/* Safe area handling for devices with notches */
.safe-area-top {
    padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-left {
    padding-left: env(safe-area-inset-left);
}

.safe-area-right {
    padding-right: env(safe-area-inset-right);
}

/* Better touch interactions */
.touch-action-manipulation {
    touch-action: manipulation;
}

/* Mobile scrollable areas */
.mobile-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
}

/* Hide scrollbars on mobile while keeping functionality */
@media (max-width: 768px) {
    .hide-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .hide-scrollbar::-webkit-scrollbar {
        display: none;
    }
}

/* Better tap targets */
.tap-highlight-none {
    -webkit-tap-highlight-color: transparent;
}

/* Disable text selection on UI elements */
.select-none-mobile {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

/* Smooth momentum scrolling */
.smooth-scroll {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

/* Mobile card hover states (disabled on touch devices) */
@media (hover: none) and (pointer: coarse) {
    .card:hover {
        transform: none !important;
        box-shadow: none !important;
    }
}

/* Focus states for better accessibility on mobile */
.focus-visible-mobile:focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 2px;
}

/* Mobile-optimized loading states */
.skeleton-mobile {
    background: linear-gradient(90deg,
            hsl(var(--muted)) 25%,
            hsl(var(--muted-foreground) / 0.1) 50%,
            hsl(var(--muted)) 75%);
    background-size: 200% 100%;
    animation: skeleton-mobile 1.5s infinite;
}

@keyframes skeleton-mobile {
    0% {
        background-position: 200% 0;
    }

    100% {
        background-position: -200% 0;
    }
}

/* Mobile navigation improvements */
.mobile-nav-item {
    min-height: 44px;
    display: flex;
    align-items: center;
    padding: 12px 16px;
    transition: background-color 0.2s ease;
}

/* Better mobile form elements */
.mobile-input {
    min-height: 44px;
    padding: 12px 16px;
    font-size: 16px;
    border-radius: 8px;
    transition: all 0.2s ease;
}

.mobile-button {
    min-height: 44px;
    min-width: 44px;
    padding: 12px 20px;
    font-size: 16px;
    font-weight: 500;
    border-radius: 8px;
    transition: all 0.2s ease;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

/* Mobile modal improvements */
.mobile-modal {
    margin: 16px;
    max-height: calc(100vh - 32px);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}

/* Better mobile typography */
@media (max-width: 640px) {
    .text-responsive-xl {
        font-size: 1.5rem;
        line-height: 2rem;
    }

    .text-responsive-lg {
        font-size: 1.25rem;
        line-height: 1.75rem;
    }

    .text-responsive-base {
        font-size: 1rem;
        line-height: 1.5rem;
    }
}

/* PWA-like app feel */
.app-container {
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
    position: relative;
    min-height: 100vh;
    height: 100vh;
    overflow-x: hidden;
}

/* Mobile swipe gestures */
.swipeable {
    touch-action: pan-y;
}

/* Mobile-optimized loading spinner */
.mobile-spinner {
    width: 20px;
    height: 20px;
    border: 2px solid hsl(var(--muted));
    border-top: 2px solid hsl(var(--primary));
    border-radius: 50%;
    animation: mobile-spin 0.8s linear infinite;
}

@keyframes mobile-spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}